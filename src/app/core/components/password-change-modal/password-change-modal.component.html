<ng-template #changePasswordModal let-modal>
  <div class="modal-body modal-sm">
    <form [formGroup]="passwordChangeForm" (ngSubmit)="onSubmit()">
      <h5 class="modal-title">Change Password</h5>
      @if (isSubmitting$ | async) {
      <app-loading-spinner></app-loading-spinner>
      } @else {
      <div>
        <input class="form-control" type="password" placeholder="Old Password" formControlName="oldPassword"
          autocomplete="off" />
        <small class="text-danger">
          {{ getPasswordErrorMessage("oldPassword") }}
        </small>
        <input class="form-control" type="password" placeholder="New Password" formControlName="newPassword"
          autocomplete="off" />
        <small class="text-danger">
          {{ getPasswordErrorMessage("newPassword") }}
        </small>
        <input class="form-control" type="password" placeholder="Repeat New Password"
          formControlName="repeatNewPassword" autocomplete="off" />
        <small class="text-danger">
          {{ getPasswordErrorMessage("repeatNewPassword") }}
        </small>
        @if (getFormErrorMessage()) {
        <small class="text-danger">{{ getFormErrorMessage() }}</small>
        }
      </div>
      }

      <button type="submit" class="btn btn-dark" [disabled]="passwordChangeForm.invalid">
        <i class="bi bi-shield-exclamation"></i>&nbsp;
        Change Password
      </button>
    </form>
  </div>
</ng-template>